/**
* Done by:
 * Student Name: Yaroslav Ivanchenko
 * Student Group: 123
 * Lab 1.7
 */

#include <iostream>

// Функція для демонстрації динамічного розподілу пам'яті в блоці
void dynamicBlock() {
    // Початок блоку
    {
        // Оголошення динамічних змінних у блоці
        float r1 = 1.5f; // Автоматична змінна
        float r2 = 5.0f; // Автоматична змінна
        std::cout << "Блок: r1 = " << r1 << ", r2 = " << r2 << std::endl;

        // Зміна значень змінних
        r1 = r1 + r2;
        r2 = r2 + r1;
        std::cout << "Після зміни: r1 = " << r1 << ", r2 = " << r2 << std::endl;

        // Вкладений блок для демонстрації мембранного ефекту
        {
            int a = 10;
            int b = 20;
            std::cout << "Вкладений блок: a = " << a << ", b = " << b << std::endl;

            // Оголошення змінної з тим самим ім'ям 'a'
            int a_inner = 30;
            std::cout << "Вкладений блок з перекриттям: a_inner = " << a_inner << ", b = " << b << std::endl;
        }

        // Після виходу з вкладеного блоку
        std::cout << "Після вкладеного блоку: r1 = " << r1 << ", r2 = " << r2 << std::endl;
    }
    // Кінець блоку, змінні r1 та r2 видаляються з пам'яті

    // Додавання циклу з статичними та автоматичними змінними
    for (int i = 0; i < 5; i++) {
        static int iA = 0; // Статична змінна
        int iB = 0;         // Автоматична змінна
        iA += 1;
        iB += 1;
        std::cout << "Цикл ітерація " << i << ": iA = " << iA << ", iB = " << iB << std::endl;
    }
}

int main() {
    std::cout << "Дослідження динамічного розподілу пам'яті в блоці\n" << std::endl;

    // Виклик функції для демонстрації динамічного розподілу пам'яті в блоці
    dynamicBlock();

    return 0;
}
